# æ—¥æ›´åŠ©æ‰‹å®Œæ•´åŠŸèƒ½æ–‡æ¡£

> åŸºäºè…¾è®¯å…ƒå™¨æ™ºèƒ½ä½“çš„å…¬ä¼—å·æ–‡ç« è‡ªåŠ¨ç”Ÿæˆç³»ç»Ÿ  
> ç‰ˆæœ¬ï¼šv1.0  
> æ›´æ–°æ—¶é—´ï¼š2025-12-26

---

## ğŸ“– ç›®å½•

1. [åŠŸèƒ½æ¦‚è¿°](#-åŠŸèƒ½æ¦‚è¿°)
2. [æŠ€æœ¯æ¶æ„](#-æŠ€æœ¯æ¶æ„)
3. [æ•°æ®åº“è®¾è®¡](#-æ•°æ®åº“è®¾è®¡)
4. [æ ¸å¿ƒåŠŸèƒ½å®ç°](#-æ ¸å¿ƒåŠŸèƒ½å®ç°)
5. [è…¾è®¯å…ƒå™¨å·¥ä½œæµé…ç½®](#-è…¾è®¯å…ƒå™¨å·¥ä½œæµé…ç½®)
6. [ä½¿ç”¨è¯´æ˜](#-ä½¿ç”¨è¯´æ˜)
7. [å¸¸è§é—®é¢˜](#-å¸¸è§é—®é¢˜)

---

## ğŸ¯ åŠŸèƒ½æ¦‚è¿°

### ä»€ä¹ˆæ˜¯æ—¥æ›´åŠ©æ‰‹ï¼Ÿ

**æ—¥æ›´åŠ©æ‰‹**æ˜¯ä¸€ä¸ªåŸºäºAIå¤§æ¨¡å‹çš„å…¬ä¼—å·æ–‡ç« ç”Ÿæˆç³»ç»Ÿï¼Œé€šè¿‡é›†æˆè…¾è®¯å…ƒå™¨æ™ºèƒ½ä½“å¹³å°ï¼Œå¸®åŠ©ç”¨æˆ·å¿«é€Ÿç”Ÿæˆé«˜è´¨é‡çš„æ–‡ç« å†…å®¹ã€‚

### æ ¸å¿ƒç‰¹æ€§

- âœ… **å¤šæ¨¡å‹ååŒç”Ÿæˆ**  
  åŒæ—¶è°ƒç”¨3ä¸ªå¤§æ¨¡å‹ï¼ˆæ··å…ƒã€DeepSeekã€ç²¾è°ƒæ¨¡å‹ï¼‰ç”Ÿæˆä¸åŒé£æ ¼çš„åˆç¨¿ï¼Œç”¨æˆ·å¯è‡ªä¸»é€‰æ‹©å‚ä¸çš„æ¨¡å‹

- âœ… **æ™ºèƒ½å†…å®¹æ•´åˆ**  
  ä½¿ç”¨æ··å…ƒä¼˜åŒ–å¤§æ¨¡å‹æ•´åˆå¤šä¸ªç‰ˆæœ¬ï¼Œç”Ÿæˆæœ€ä¼˜è´¨çš„æ–‡ç« å†…å®¹

- âœ… **å¼‚æ­¥å¤„ç†æ¶æ„**  
  åå°å¼‚æ­¥è°ƒç”¨AIç”Ÿæˆï¼Œå‰ç«¯è½®è¯¢è·å–çŠ¶æ€ï¼Œç”¨æˆ·æ— éœ€ç­‰å¾…

- âœ… **æ™ºèƒ½æ’ç‰ˆ**  
  æ”¯æŒè°ƒç”¨è…¾è®¯å…ƒå™¨æ’ç‰ˆå·¥ä½œæµï¼Œè‡ªåŠ¨ä¼˜åŒ–æ–‡ç« æ ¼å¼å’Œç»“æ„

- âœ… **å…¬ä¼—å·æŠ•é€’**  
  ä¸€é”®æŠ•é€’ä¼˜åŒ–åçš„æ–‡ç« åˆ°å¾®ä¿¡å…¬ä¼—å·è‰ç¨¿ç®±

- âœ… **å†å²è®°å½•ç®¡ç†**  
  ä¿å­˜æ‰€æœ‰ç”Ÿæˆçš„æ–‡ç« ï¼Œæ”¯æŒæŸ¥çœ‹ã€ç¼–è¾‘å’Œåˆ é™¤

### ä¸šåŠ¡æµç¨‹å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ç”¨æˆ·æ“ä½œ                                  â”‚
â”‚   1. è¾“å…¥æ–‡ç« æ ‡é¢˜                                             â”‚
â”‚   2. é€‰æ‹©å‚ä¸çš„å¤§æ¨¡å‹ï¼ˆ1-3ä¸ªï¼‰                                â”‚
â”‚   3. ç‚¹å‡»"å¼€å§‹åˆ›ä½œ"                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   åç«¯å¤„ç†ï¼ˆå¼‚æ­¥ï¼‰                            â”‚
â”‚   1. åˆ›å»ºæ–‡ç« è®°å½•ï¼ˆstatus=0 å¤„ç†ä¸­ï¼‰                          â”‚
â”‚   2. è°ƒç”¨è…¾è®¯å…ƒå™¨å·¥ä½œæµAPI                                    â”‚
â”‚   3. ç«‹å³è¿”å›æ–‡ç« ID                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              è…¾è®¯å…ƒå™¨å·¥ä½œæµæ‰§è¡Œ                               â”‚
â”‚   1. å‚æ•°æå–ï¼šarticleTitle, articleId                       â”‚
â”‚   2. å¹¶è¡Œè°ƒç”¨é€‰ä¸­çš„æ¨¡å‹ç”Ÿæˆåˆç¨¿                               â”‚
â”‚      â”œâ”€ æ¨¡å‹1ï¼ˆæ··å…ƒï¼‰â†’ HTTPå›è°ƒä¿å­˜ model1_content           â”‚
â”‚      â”œâ”€ æ¨¡å‹2ï¼ˆDeepSeekï¼‰â†’ HTTPå›è°ƒä¿å­˜ model2_content       â”‚
â”‚      â””â”€ æ¨¡å‹3ï¼ˆç²¾è°ƒï¼‰â†’ HTTPå›è°ƒä¿å­˜ model3_content           â”‚
â”‚   3. æ··å…ƒä¼˜åŒ–å¤§æ¨¡å‹æ•´åˆä¼˜åŒ–                                   â”‚
â”‚   4. HTTPå›è°ƒä¿å­˜ optimized_content                         â”‚
â”‚   5. æ›´æ–°æ–‡ç« çŠ¶æ€ä¸º"å·²å®Œæˆ"ï¼ˆstatus=1ï¼‰                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  å‰ç«¯å±•ç¤º                                     â”‚
â”‚   1. å®šæ—¶åˆ·æ–°æ–‡ç« åˆ—è¡¨ï¼ˆçº¦æ¯5ç§’ä¸€æ¬¡ï¼Œæœ€å¤šè½®è¯¢5åˆ†é’Ÿï¼‰            â”‚
â”‚   2. æ ¹æ®æ–‡ç« çš„å¤„ç†çŠ¶æ€æ˜¾ç¤ºè¿›åº¦å’Œé”™è¯¯ä¿¡æ¯                      â”‚
â”‚   3. å®Œæˆåå±•ç¤ºä¼˜åŒ–å†…å®¹å’Œå„æ¨¡å‹åˆç¨¿                           â”‚
â”‚   4. æ”¯æŒæ’ç‰ˆã€æŠ•é€’åˆ°å…¬ä¼—å·                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—ï¸ æŠ€æœ¯æ¶æ„

### æŠ€æœ¯æ ˆ

#### åç«¯æŠ€æœ¯
- **æ¡†æ¶**ï¼šSpring Boot 3.x
- **ORM**ï¼šMyBatis
- **æ•°æ®åº“**ï¼šMySQL 8.0
- **å®‰å…¨**ï¼šSpring Security + JWT
- **å¼‚æ­¥ä»»åŠ¡**ï¼šSpring @Async + ThreadPoolExecutor
- **HTTPå®¢æˆ·ç«¯**ï¼šRestTemplate

#### å‰ç«¯æŠ€æœ¯
- **æ¡†æ¶**ï¼šVue 3
- **UIåº“**ï¼šElement Plus
- **çŠ¶æ€ç®¡ç†**ï¼šComposition API
- **HTTPå®¢æˆ·ç«¯**ï¼šAxios

#### AIå¹³å°
- **æ™ºèƒ½ä½“å¹³å°**ï¼šè…¾è®¯å…ƒå™¨ï¼ˆYuanqiï¼‰
- **å·¥ä½œæµå¼•æ“**ï¼šè…¾è®¯å…ƒå™¨å·¥ä½œæµ
- **å¤§æ¨¡å‹**ï¼š
  - æ··å…ƒå¤§æ¨¡å‹ï¼ˆæ–‡ç« ç”Ÿæˆ + ä¼˜åŒ–ï¼‰
  - DeepSeekï¼ˆæ–‡ç« ç”Ÿæˆï¼‰
  - ç²¾è°ƒæ¨¡å‹ï¼ˆæ–‡ç« ç”Ÿæˆï¼‰

### ç³»ç»Ÿæ¶æ„å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    å‰ç«¯ (Vue3 + Element Plus)                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”‚
â”‚  â”‚ æ–‡ç« åˆ›å»º  â”‚  â”‚ æ¨¡å‹é€‰æ‹©  â”‚  â”‚ å†…å®¹å±•ç¤º  â”‚  â”‚ å…¬ä¼—å·æŠ•é€’ â”‚      â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                      â”‚ REST API
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  åç«¯ (Spring Boot)                            â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ Controllerå±‚                                          â”‚     â”‚
â”‚  â”‚  - DailyArticleController (æ–‡ç« ç®¡ç†)                  â”‚     â”‚
â”‚  â”‚  - YuanqiAgentConfigController (å…ƒå™¨é…ç½®)             â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                       â†“                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ Serviceå±‚                                             â”‚     â”‚
â”‚  â”‚  - DailyArticleServiceImpl (ä¸šåŠ¡é€»è¾‘)                 â”‚     â”‚
â”‚  â”‚  - YuanqiAgentApiService (APIè°ƒç”¨)                    â”‚     â”‚
â”‚  â”‚  - YuanqiAgentConfigServiceImpl (é…ç½®ç®¡ç†)            â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â”‚                       â†“                                        â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”‚
â”‚  â”‚ Mapperå±‚ (MyBatis)                                    â”‚     â”‚
â”‚  â”‚  - DailyArticleMapper                                 â”‚     â”‚
â”‚  â”‚  - YuanqiAgentConfigMapper                            â”‚     â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    MySQL æ•°æ®åº“                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ daily_article    â”‚  â”‚yuanqi_agent_configâ”‚ â”‚  sys_menu   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              è…¾è®¯å…ƒå™¨æ™ºèƒ½ä½“å¹³å° (å¤–éƒ¨æœåŠ¡)                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                    â”‚
â”‚  â”‚  æ–‡ç« ç”Ÿæˆå·¥ä½œæµ   â”‚  â”‚  æ™ºèƒ½æ’ç‰ˆå·¥ä½œæµ   â”‚                    â”‚
â”‚  â”‚  â”œâ”€ æ··å…ƒå¤§æ¨¡å‹    â”‚  â”‚  â””â”€ æ’ç‰ˆä¼˜åŒ–     â”‚                    â”‚
â”‚  â”‚  â”œâ”€ DeepSeek     â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                    â”‚
â”‚  â”‚  â”œâ”€ ç²¾è°ƒæ¨¡å‹     â”‚                                           â”‚
â”‚  â”‚  â””â”€ æ··å…ƒä¼˜åŒ–     â”‚                                           â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                           â”‚
â”‚           â”‚ HTTP å›è°ƒ                                           â”‚
â”‚           â†“                                                     â”‚
â”‚  POST /system/daily-article/saveModelContent                    â”‚
â”‚  POST /system/daily-article/updateOptimizedContent             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ“Š æ•°æ®åº“è®¾è®¡

### è¡¨1ï¼šdaily_articleï¼ˆæ—¥æ›´åŠ©æ‰‹æ–‡ç« è¡¨ï¼‰

å­˜å‚¨ç”¨æˆ·åˆ›å»ºçš„æ–‡ç« åŠAIç”Ÿæˆçš„å†…å®¹ã€‚

```sql
CREATE TABLE `daily_article` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'æ–‡ç« ID',
  `user_id` bigint(20) NOT NULL COMMENT 'ç”¨æˆ·ID',
  `article_title` varchar(500) NOT NULL COMMENT 'åŸå§‹æ–‡ç« æ ‡é¢˜',
  
  -- AIç”Ÿæˆçš„å†…å®¹
  `optimized_content` longtext COMMENT 'ä¼˜åŒ–åçš„æ–‡ç« å†…å®¹ï¼ˆæ¥è‡ªæ··å…ƒä¼˜åŒ–å¤§æ¨¡å‹ï¼‰',
  `model1_content` longtext COMMENT 'å¤§æ¨¡å‹1ç”Ÿæˆçš„åˆç¨¿å†…å®¹',
  `model2_content` longtext COMMENT 'å¤§æ¨¡å‹2ç”Ÿæˆçš„åˆç¨¿å†…å®¹',
  `model3_content` longtext COMMENT 'å¤§æ¨¡å‹3ç”Ÿæˆçš„åˆç¨¿å†…å®¹',
  
  -- æ¨¡å‹ä¿¡æ¯
  `model1_name` varchar(100) DEFAULT NULL COMMENT 'å¤§æ¨¡å‹1åç§°',
  `model2_name` varchar(100) DEFAULT NULL COMMENT 'å¤§æ¨¡å‹2åç§°',
  `model3_name` varchar(100) DEFAULT NULL COMMENT 'å¤§æ¨¡å‹3åç§°',
  `selected_models` varchar(50) DEFAULT '1,2,3' COMMENT 'å·²é€‰æ‹©çš„æ¨¡å‹ï¼Œæ ¼å¼å¦‚"1,2,3"',
  
  -- ä»»åŠ¡çŠ¶æ€
  `agent_task_id` varchar(200) DEFAULT NULL COMMENT 'è…¾è®¯å…ƒå™¨æ™ºèƒ½ä½“ä»»åŠ¡ID',
  `process_status` tinyint(1) NOT NULL DEFAULT 0 COMMENT 'å¤„ç†çŠ¶æ€ï¼š0-å¤„ç†ä¸­ï¼Œ1-å·²å®Œæˆï¼Œ2-å¤±è´¥',
  `error_message` varchar(1000) DEFAULT NULL COMMENT 'é”™è¯¯ä¿¡æ¯',
  `publish_count` int(11) DEFAULT 0 COMMENT 'å‘å¸ƒæ¬¡æ•°',
  
  -- å®¡è®¡å­—æ®µ
  `create_by` varchar(64) DEFAULT NULL COMMENT 'åˆ›å»ºè€…',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  `update_by` varchar(64) DEFAULT NULL COMMENT 'æ›´æ–°è€…',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
  `remark` varchar(500) DEFAULT NULL COMMENT 'å¤‡æ³¨',
  
  PRIMARY KEY (`id`),
  KEY `idx_user_id` (`user_id`),
  KEY `idx_create_time` (`create_time`),
  KEY `idx_process_status` (`process_status`),
  KEY `idx_agent_task_id` (`agent_task_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='æ—¥æ›´åŠ©æ‰‹æ–‡ç« è¡¨';
```

### è¡¨2ï¼šyuanqi_agent_configï¼ˆè…¾è®¯å…ƒå™¨æ™ºèƒ½ä½“é…ç½®è¡¨ï¼‰

å­˜å‚¨ç”¨æˆ·çš„è…¾è®¯å…ƒå™¨æ™ºèƒ½ä½“é…ç½®ä¿¡æ¯ã€‚

```sql
CREATE TABLE `yuanqi_agent_config` (
  `id` bigint(20) NOT NULL AUTO_INCREMENT COMMENT 'é…ç½®ID',
  `user_id` bigint(20) NOT NULL COMMENT 'ç”¨æˆ·ID',
  `agent_id` varchar(200) NOT NULL COMMENT 'è…¾è®¯å…ƒå™¨æ™ºèƒ½ä½“IDï¼ˆassistant_idï¼‰',
  `agent_name` varchar(100) DEFAULT NULL COMMENT 'æ™ºèƒ½ä½“åç§°',
  `api_key` varchar(500) DEFAULT NULL COMMENT 'APIå¯†é’¥ï¼ˆBearer Tokenï¼‰',
  `api_endpoint` varchar(500) DEFAULT NULL COMMENT 'APIç«¯ç‚¹URL',
  `is_active` tinyint(1) NOT NULL DEFAULT 1 COMMENT 'æ˜¯å¦å¯ç”¨ï¼š0-ç¦ç”¨ï¼Œ1-å¯ç”¨',
  `config_json` json DEFAULT NULL COMMENT 'å…¶ä»–é…ç½®ï¼ˆJSONæ ¼å¼ï¼‰',
  
  -- å®¡è®¡å­—æ®µ
  `create_by` varchar(64) DEFAULT NULL COMMENT 'åˆ›å»ºè€…',
  `create_time` datetime DEFAULT CURRENT_TIMESTAMP COMMENT 'åˆ›å»ºæ—¶é—´',
  `update_by` varchar(64) DEFAULT NULL COMMENT 'æ›´æ–°è€…',
  `update_time` datetime DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT 'æ›´æ–°æ—¶é—´',
  `remark` varchar(500) DEFAULT NULL COMMENT 'å¤‡æ³¨',
  
  PRIMARY KEY (`id`),
  KEY `idx_user_id` (`user_id`),
  KEY `idx_agent_id` (`agent_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COMMENT='è…¾è®¯å…ƒå™¨æ™ºèƒ½ä½“é…ç½®è¡¨';
```

### å­—æ®µè¯´æ˜

#### process_statusï¼ˆå¤„ç†çŠ¶æ€ï¼‰
- **0** - å¤„ç†ä¸­ï¼šæ–‡ç« å·²åˆ›å»ºï¼Œå·¥ä½œæµæ­£åœ¨æ‰§è¡Œ
- **1** - å·²å®Œæˆï¼šæ‰€æœ‰å†…å®¹å·²ç”Ÿæˆå¹¶ä¿å­˜
- **2** - å¤±è´¥ï¼šå·¥ä½œæµæ‰§è¡Œå¤±è´¥æˆ–è¶…æ—¶ï¼ˆ5åˆ†é’Ÿï¼‰

#### selected_modelsï¼ˆå·²é€‰æ¨¡å‹ï¼‰
æ ¼å¼ï¼šé€—å·åˆ†éš”çš„æ•°å­—å­—ç¬¦ä¸²
- `"1,2,3"` - å…¨é€‰ä¸‰ä¸ªæ¨¡å‹
- `"1,2"` - åªé€‰æ¨¡å‹1å’Œæ¨¡å‹2
- `"1"` - åªé€‰æ¨¡å‹1

---

## ğŸ’» æ ¸å¿ƒåŠŸèƒ½å®ç°

### 1. æ–‡ç« åˆ›å»ºä¸å¼‚æ­¥å¤„ç†

#### åç«¯æ ¸å¿ƒä»£ç 

**DailyArticleController.java**

```java
@PostMapping("/createAndOptimize")
public AjaxResult createAndOptimize(@RequestBody Map<String, String> params) {
    String articleTitle = params.get("articleTitle");
    String selectedModels = params.get("selectedModels"); // "1,2,3"
    
    Long userId = getUserId();
    
    // åˆ›å»ºæ–‡ç« å¹¶å¼‚æ­¥è°ƒç”¨AIï¼ˆç«‹å³è¿”å›ï¼‰
    DailyArticle article = dailyArticleService.createArticleAndOptimize(
        userId, articleTitle, selectedModels
    );
    
    Map<String, Object> result = new HashMap<>();
    result.put("id", article.getId());
    result.put("articleTitle", article.getArticleTitle());
    result.put("processStatus", 0); // å¤„ç†ä¸­
    result.put("message", "æ–‡ç« åˆ›å»ºæˆåŠŸï¼ŒAIå†…å®¹æ­£åœ¨ç”Ÿæˆä¸­");
    
    return success(result);
}
```

**DailyArticleServiceImpl.java**

```java
@Override
public DailyArticle createArticleAndOptimize(Long userId, String articleTitle, String selectedModels) {
    // 1. å¿«é€Ÿåˆ›å»ºæ–‡ç« è®°å½•
    DailyArticle article = new DailyArticle();
    article.setUserId(userId);
    article.setArticleTitle(articleTitle);
    article.setSelectedModels(selectedModels);
    article.setProcessStatus(0); // å¤„ç†ä¸­
    
    dailyArticleMapper.insertDailyArticle(article);
    
    // 2. å¼‚æ­¥è°ƒç”¨AIï¼ˆä¸é˜»å¡ï¼‰
    processArticleOptimizationAsync(article.getId(), userId, articleTitle);
    
    // 3. ç«‹å³è¿”å›æ–‡ç« 
    return article;
}

@Async("asyncTaskExecutor")
public void processArticleOptimizationAsync(Long articleId, Long userId, String articleTitle) {
    // è·å–ç”¨æˆ·çš„å…ƒå™¨é…ç½®
    YuanqiAgentConfig config = yuanqiAgentConfigService.selectActiveConfigByUserId(userId);
    
    // è°ƒç”¨è…¾è®¯å…ƒå™¨API
    YuanqiApiResponse response = yuanqiAgentApiService.optimizeArticle(
        config.getApiKey(),
        config.getAgentId(),
        String.valueOf(userId),
        articleTitle,
        articleId
    );
    
    if (response.isSuccess()) {
        // ä»»åŠ¡å·²æäº¤ï¼Œè®°å½•taskIdï¼Œç­‰å¾…å·¥ä½œæµå›è°ƒ
        updateArticleStatus(articleId, 0, null, null, response.getTaskId());
        
        // å¯åŠ¨5åˆ†é’Ÿè¶…æ—¶æ£€æŸ¥
        scheduleCallbackTimeoutCheck(articleId, articleTitle);
    } else {
        updateArticleStatus(articleId, 2, response.getErrorMessage(), null, null);
    }
}
```

### 2. è…¾è®¯å…ƒå™¨APIè°ƒç”¨

**YuanqiAgentApiService.java**

```java
public YuanqiApiResponse optimizeArticle(String appKey, String appId, String userId, 
                                         String articleTitle, Long articleId) {
    // æ„å»ºè¯·æ±‚å¤´
    HttpHeaders headers = new HttpHeaders();
    headers.setContentType(MediaType.APPLICATION_JSON);
    headers.set("Authorization", "Bearer " + appKey);
    
    // æ„å»ºè¯·æ±‚ä½“
    Map<String, Object> requestBody = new HashMap<>();
    requestBody.put("assistant_id", appId);
    requestBody.put("user_id", userId);
    requestBody.put("stream", false);
    
    // æ„å»ºæ¶ˆæ¯ï¼šå‘é€JSONæ ¼å¼çš„å‚æ•°
    List<Map<String, Object>> messages = new ArrayList<>();
    Map<String, Object> userMessage = new HashMap<>();
    userMessage.put("role", "user");
    
    // æ¶ˆæ¯å†…å®¹ï¼š{"articleTitle": "è¥¿ç“œ", "articleId": 83}
    String jsonMessage = String.format(
        "{\"articleTitle\":\"%s\",\"articleId\":%d}", 
        articleTitle, articleId
    );
    
    List<Map<String, Object>> contentList = new ArrayList<>();
    Map<String, Object> textContent = new HashMap<>();
    textContent.put("type", "text");
    textContent.put("text", jsonMessage);
    contentList.add(textContent);
    
    userMessage.put("content", contentList);
    messages.add(userMessage);
    requestBody.put("messages", messages);
    
    // å‘é€è¯·æ±‚
    HttpEntity<Map<String, Object>> requestEntity = new HttpEntity<>(requestBody, headers);
    ResponseEntity<String> response = restTemplate.exchange(
        "https://yuanqi.tencent.com/openapi/v1/agent/chat/completions",
        HttpMethod.POST,
        requestEntity,
        String.class
    );
    
    // è§£æå“åº”ï¼Œè·å–taskId
    return parseResponse(response.getBody());
}
```

### 3. å·¥ä½œæµHTTPå›è°ƒæ¥æ”¶

**DailyArticleController.java**

```java
// æ¥æ”¶æ¨¡å‹ç”Ÿæˆçš„å†…å®¹
@PostMapping("/saveModelContent")
public AjaxResult saveModelContent(@RequestBody Map<String, Object> params) {
    Long articleId = Long.parseLong(params.get("articleId").toString());
    String modelName = params.get("modelName").toString();
    String content = params.get("content").toString();
    int modelIndex = Integer.parseInt(params.get("modelIndex").toString());
    
    int result = dailyArticleService.saveModelContent(
        articleId, modelName, content, modelIndex
    );
    
    return toAjax(result);
}

// æ¥æ”¶ä¼˜åŒ–åçš„å†…å®¹
@PostMapping("/updateOptimizedContent")
public AjaxResult updateOptimizedContent(@RequestBody Map<String, Object> params) {
    Long articleId = Long.parseLong(params.get("articleId").toString());
    String optimizedContent = params.get("optimizedContent").toString();
    
    int result = dailyArticleService.updateOptimizedContent(articleId, optimizedContent);
    
    if (result > 0) {
        // æ›´æ–°çŠ¶æ€ä¸ºå·²å®Œæˆ
        dailyArticleService.updateProcessStatus(articleId, 1);
    }
    
    return toAjax(result);
}
```

### 4. å‰ç«¯çŠ¶æ€è½®è¯¢

**dailyAssistant.vue**

å½“å‰å®ç°æ˜¯**åŸºäºæ–‡ç« åˆ—è¡¨çš„è½®è¯¢åˆ·æ–°**ï¼Œè€Œä¸æ˜¯å•ç‹¬è°ƒç”¨ä¸€ä¸ª `getArticleStatus` æ¥å£ã€‚æ ¸å¿ƒé€»è¾‘å¦‚ä¸‹ï¼š

```javascript
// åˆ›å»ºæ–‡ç« å¹¶è§¦å‘è½®è¯¢
const handleCreate = async () => {
  // ... çœç•¥å‚æ•°æ ¡éªŒä¸æ¥å£è°ƒç”¨
  const response = await createAndOptimize(title, selectedModels.value)
  if (response.code === 200) {
    const newArticleId = response.data?.id
    // åˆ·æ–°åˆ—è¡¨å¹¶é€‰ä¸­æ–°æ–‡ç« 
    await loadArticles()
    if (newArticleId) {
      const newArticle = articles.value.find(a => a.id === newArticleId)
      if (newArticle) {
        selectedArticle.value = newArticle
      }
      // å¯åŠ¨è½®è¯¢ï¼Œç›‘æ§ç”Ÿæˆè¿›åº¦
      startPollingArticle(newArticleId, title)
    }
  }
}

// è½®è¯¢å•ç¯‡æ–‡ç« çš„ç”ŸæˆçŠ¶æ€ï¼ˆé€šè¿‡åˆ·æ–°æ–‡ç« åˆ—è¡¨ï¼‰
const startPollingArticle = (articleId, articleTitle) => {
  let pollCount = 0
  const maxPolls = 60  // 5åˆ†é’Ÿï¼ˆ60 * 5ç§’ = 300ç§’ï¼‰
  
  const pollInterval = setInterval(async () => {
    pollCount++
    try {
      // åˆ·æ–°åˆ—è¡¨ï¼Œè·å–æœ€æ–°çš„æ–‡ç« å†…å®¹å’ŒçŠ¶æ€
      await loadArticles()
      const article = articles.value.find(a => a.id === articleId)
      
      if (article) {
        // åŒæ­¥æ›´æ–°å³ä¾§é€‰ä¸­å†…å®¹
        if (selectedArticle.value && selectedArticle.value.id === articleId) {
          selectedArticle.value = article
        }
        
        if (article.processStatus === 1) {
          // æˆåŠŸ
          clearInterval(pollInterval)
          ElMessage({
            message: `æ–‡ç« "${articleTitle}"ç”Ÿæˆå®Œæˆï¼`,
            type: 'success',
            duration: 3000
          })
        } else if (article.processStatus === 2) {
          // å¤±è´¥
          clearInterval(pollInterval)
          ElMessage({
            message: `æ–‡ç« "${articleTitle}"ç”Ÿæˆå¤±è´¥ï¼š${article.errorMessage || 'æœªçŸ¥é”™è¯¯'}`,
            type: 'error',
            duration: 5000
          })
        }
        // status = 0 æ—¶ç»§ç»­è½®è¯¢ï¼Œç”¨æˆ·å¯ä»¥è¾¹çœ‹å·²ç”Ÿæˆçš„æ¨¡å‹å†…å®¹
      } else if (pollCount >= maxPolls) {
        // è¶…æ—¶ï¼ˆè¶…è¿‡5åˆ†é’Ÿï¼‰
        clearInterval(pollInterval)
        ElMessage({
          message: `æ–‡ç« "${articleTitle}"ç”Ÿæˆè¶…æ—¶ï¼ˆè¶…è¿‡5åˆ†é’Ÿï¼‰ï¼Œè¯·æ£€æŸ¥æ–‡ç« çŠ¶æ€`,
          type: 'warning',
          duration: 5000
        })
      }
    } catch (error) {
      console.error('è½®è¯¢å¤±è´¥:', error)
    }
  }, 5000) // æ¯5ç§’åˆ·æ–°ä¸€æ¬¡æ–‡ç« åˆ—è¡¨
}
```

### 5. æ™ºèƒ½æ’ç‰ˆåŠŸèƒ½

**è°ƒç”¨æ’ç‰ˆå·¥ä½œæµ**

```java
@PostMapping("/layoutArticle")
public AjaxResult layoutArticle(@RequestBody Map<String, Object> params) {
    String content = params.get("content").toString();
    Long userId = getUserId();
    
    // è°ƒç”¨åŒæ­¥æ’ç‰ˆå·¥ä½œæµ
    String layoutedContent = dailyArticleService.layoutArticleSync(userId, content);
    
    Map<String, Object> result = new HashMap<>();
    result.put("layoutedContent", layoutedContent);
    result.put("message", "æ’ç‰ˆå®Œæˆ");
    
    return success(result);
}
```

### 6. å…¬ä¼—å·æŠ•é€’åŠŸèƒ½

**æŠ•é€’åˆ°å¾®ä¿¡å…¬ä¼—å·è‰ç¨¿ç®±**

```java
@PostMapping("/publishToWechat")
public AjaxResult publishToWechat(@RequestBody Map<String, Object> params) {
    Long articleId = Long.parseLong(params.get("articleId").toString());
    String contentType = params.get("contentType").toString();

    // åªæ”¯æŒæŠ•é€’æ’ç‰ˆåçš„æ–‡ç« 
    if (!"layout".equals(contentType)) {
        return error("ä»…æ”¯æŒæŠ•é€’æ’ç‰ˆåçš„æ–‡ç« ");
    }

    // æŸ¥è¯¢æ–‡ç« 
    DailyArticle article = dailyArticleService.selectDailyArticleById(articleId);
    if (article == null) {
        return error("æ–‡ç« ä¸å­˜åœ¨");
    }

    // è·å–ç”¨æˆ· UnionId
    Long userId = getUserId();
    String unionId = userInfoMapper.getUnionIdByUserId(String.valueOf(userId));
    if (unionId == null || unionId.trim().isEmpty()) {
        return error("æœªæ‰¾åˆ°ç”¨æˆ·ä¿¡æ¯ï¼Œè¯·å…ˆç™»å½•å¾®ä¿¡");
    }

    // è·å–æ’ç‰ˆåçš„ HTML å†…å®¹
    Object layoutedContentObj = params.get("layoutedContent");
    if (layoutedContentObj == null) {
        return error("æ’ç‰ˆå†…å®¹ä¸ºç©ºï¼Œæ— æ³•æŠ•é€’");
    }
    String originalContent = layoutedContentObj.toString();

    // æå–æ ‡é¢˜ï¼ˆä¼˜å…ˆä½¿ç”¨æ’ç‰ˆå†…å®¹ä¸­çš„æ ‡é¢˜ï¼Œå¦åˆ™é€€å›åˆ°åŸå§‹æ–‡ç« æ ‡é¢˜ï¼‰
    String baseTitle = article.getArticleTitle();
    String extractedTitle = extractTitleFromLayoutContent(originalContent);
    String finalTitle = (extractedTitle != null && !extractedTitle.trim().isEmpty())
            ? extractedTitle.trim()
            : baseTitle;

    // å»é™¤æ­£æ–‡ä¸­çš„æ ‡é¢˜ï¼Œé¿å…ä¸å…¬ä¼—å·æ ‡é¢˜é‡å¤
    String content = removeTitleFromContent(originalContent);

    // å°†çº¯æ–‡æœ¬å†…å®¹è½¬æ¢ä¸º HTMLï¼ˆå¦‚æœæ’ç‰ˆç»“æœä¸­ HTML æ ‡ç­¾ä¸å¤Ÿä¸°å¯Œï¼‰
    content = convertTextToHtml(content);
    if (content == null || content.trim().isEmpty()) {
        return error("å†…å®¹ä¸ºç©ºï¼Œæ— æ³•æŠ•é€’");
    }

    // è°ƒç”¨å…¬ä¼—å·æŠ•é€’æœåŠ¡
    Map<String, Object> publishParams = new HashMap<>();
    publishParams.put("unionId", unionId);
    publishParams.put("title", finalTitle);
    publishParams.put("contentText", content);
    publishParams.put("shareUrl", "");
    publishParams.put("thumbMediaId", null);

    ResultBody result = wechatMpService.publishToOffice(publishParams);

    if (result.getCode() == 200) {
        // æ›´æ–°å‘å¸ƒæ¬¡æ•°ï¼ˆç©ºå€¼å®‰å…¨å¤„ç†ï¼‰
        Integer publishCount = article.getPublishCount();
        if (publishCount == null) {
            publishCount = 0;
        }
        article.setPublishCount(publishCount + 1);
        dailyArticleService.updateDailyArticle(article);
        return success(result.getData());
    } else {
        return error(result.getMessages());
    }
}
```

---

## âš™ï¸ è…¾è®¯å…ƒå™¨å·¥ä½œæµé…ç½®

### å·¥ä½œæµè®¾è®¡æ–¹æ¡ˆ

åœ¨è…¾è®¯å…ƒå™¨å¹³å°åˆ›å»ºä¸€ä¸ª**æ–‡ç« ç”Ÿæˆå·¥ä½œæµ**ï¼Œå®ç°ä»¥ä¸‹åŠŸèƒ½ï¼š

1. æ¥æ”¶å‚æ•°ï¼ˆarticleTitleã€articleIdï¼‰
2. å¹¶è¡Œè°ƒç”¨é€‰ä¸­çš„å¤§æ¨¡å‹ç”Ÿæˆåˆç¨¿
3. HTTPå›è°ƒä¿å­˜å„æ¨¡å‹å†…å®¹
4. æ··å…ƒä¼˜åŒ–å¤§æ¨¡å‹æ•´åˆä¼˜åŒ–
5. HTTPå›è°ƒä¿å­˜ä¼˜åŒ–å†…å®¹

### å·¥ä½œæµèŠ‚ç‚¹é…ç½®

#### èŠ‚ç‚¹1ï¼šå‚æ•°æå–

**èŠ‚ç‚¹ç±»å‹**ï¼šå‚æ•°æå–èŠ‚ç‚¹

**é…ç½®**ï¼š
```json
{
  "extractFrom": "user_message",
  "parameters": [
    {
      "name": "articleTitle",
      "type": "string",
      "required": true
    },
    {
      "name": "articleId",
      "type": "number",
      "required": true
    }
  ]
}
```

**è¯´æ˜**ï¼šä»ç”¨æˆ·æ¶ˆæ¯ä¸­æå–JSONå‚æ•°
```json
{"articleTitle": "äººå·¥æ™ºèƒ½", "articleId": 88}
```

#### èŠ‚ç‚¹2ï¼šæ¨¡å‹1 - æ··å…ƒå¤§æ¨¡å‹

**èŠ‚ç‚¹ç±»å‹**ï¼šå¤§æ¨¡å‹è°ƒç”¨

**æç¤ºè¯**ï¼š
```
è¯·æ ¹æ®ä»¥ä¸‹æ–‡ç« æ ‡é¢˜ï¼Œç”Ÿæˆä¸€ç¯‡å®Œæ•´çš„å…¬ä¼—å·æ–‡ç« å†…å®¹ï¼š

æ ‡é¢˜ï¼š{{articleTitle}}

è¦æ±‚ï¼š
1. å†…å®¹è¦æœ‰æ·±åº¦å’Œä»·å€¼ï¼Œ800-1200å­—
2. ç»“æ„æ¸…æ™°ï¼ŒåŒ…å«å¼•è¨€ã€æ­£æ–‡ã€ç»“å°¾
3. è¯­è¨€ç”ŸåŠ¨ï¼Œé€‚åˆå…¬ä¼—å·é˜…è¯»
4. å¯ä»¥åŠ å…¥æ¡ˆä¾‹æˆ–æ•°æ®æ”¯æŒ
5. ä¸è¦è¾“å‡ºmarkdownæ ¼å¼ï¼Œä½¿ç”¨çº¯æ–‡æœ¬
```

**è¾“å‡ºå˜é‡**ï¼š`model1_output` 

#### èŠ‚ç‚¹3ï¼šHTTPå›è°ƒ - ä¿å­˜æ¨¡å‹1å†…å®¹

**èŠ‚ç‚¹ç±»å‹**ï¼šHTTPè¯·æ±‚

**é…ç½®**ï¼š
```yaml
URL: http://ä½ çš„æœåŠ¡å™¨åœ°å€:8080/system/daily-article/saveModelContent
æ–¹æ³•: POST
Content-Type: application/json

è¯·æ±‚ä½“:
{
  "articleId": {{articleId}},
  "modelName": "æ··å…ƒå¤§æ¨¡å‹",
  "content": {{model1_output}},
  "modelIndex": 1
}
```

#### èŠ‚ç‚¹4-7ï¼šæ¨¡å‹2ã€æ¨¡å‹3åŠå…¶å›è°ƒ

é…ç½®åŒä¸Šï¼Œä¿®æ”¹ï¼š
- æ¨¡å‹2ï¼ˆDeepSeekï¼‰ï¼š`modelIndex: 2` 
- æ¨¡å‹3ï¼ˆç²¾è°ƒæ¨¡å‹ï¼‰ï¼š`modelIndex: 3` 

#### èŠ‚ç‚¹8ï¼šæ··å…ƒä¼˜åŒ–å¤§æ¨¡å‹

**èŠ‚ç‚¹ç±»å‹**ï¼šå¤§æ¨¡å‹è°ƒç”¨

**æç¤ºè¯**ï¼š
```
ä½ ç°åœ¨æ˜¯ä¸€ä½èµ„æ·±çš„å†…å®¹ç¼–è¾‘ï¼Œè¯·æ ¹æ®ä»¥ä¸‹3ä¸ªå¤§æ¨¡å‹ç”Ÿæˆçš„æ–‡ç« åˆç¨¿ï¼Œæ•´åˆä¼˜åŒ–å‡ºä¸€ç¯‡æœ€ä¼˜è´¨çš„å…¬ä¼—å·æ–‡ç« ã€‚

æ–‡ç« æ ‡é¢˜ï¼š{{articleTitle}}

ã€æ¨¡å‹1åˆç¨¿ã€‘
{{model1_output}}

ã€æ¨¡å‹2åˆç¨¿ã€‘
{{model2_output}}

ã€æ¨¡å‹3åˆç¨¿ã€‘
{{model3_output}}

è¦æ±‚ï¼š
1. å¸æ”¶3ä¸ªç‰ˆæœ¬çš„ä¼˜ç‚¹ï¼Œå»é™¤ç¼ºç‚¹
2. ä¿æŒç»“æ„æ¸…æ™°ï¼Œé€»è¾‘è¿è´¯
3. è¯­è¨€ä¼˜ç¾ï¼Œé€‚åˆå…¬ä¼—å·é˜…è¯»
4. æ§åˆ¶åœ¨800-1200å­—
5. ä¸è¦è¾“å‡ºmarkdownæ ¼å¼ï¼Œä½¿ç”¨çº¯æ–‡æœ¬
```

**è¾“å‡ºå˜é‡**ï¼š`optimized_output` 

#### èŠ‚ç‚¹9ï¼šHTTPå›è°ƒ - ä¿å­˜ä¼˜åŒ–å†…å®¹

**é…ç½®**ï¼š
```yaml
URL: http://ä½ çš„æœåŠ¡å™¨åœ°å€:8080/system/daily-article/updateOptimizedContent
æ–¹æ³•: POST
Content-Type: application/json

è¯·æ±‚ä½“:
{
  "articleId": {{articleId}},
  "optimizedContent": {{optimized_output}}
}
```

### å·¥ä½œæµæ‰§è¡Œæµç¨‹å›¾

```
å¼€å§‹
  â†“
å‚æ•°æå–ï¼ˆarticleTitle, articleIdï¼‰
  â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         â”‚         â”‚         â”‚
æ¨¡å‹1     æ¨¡å‹2     æ¨¡å‹3
ç”Ÿæˆ      ç”Ÿæˆ      ç”Ÿæˆ
â”‚         â”‚         â”‚         â”‚
HTTPå›è°ƒ  HTTPå›è°ƒ  HTTPå›è°ƒ
ä¿å­˜      ä¿å­˜      ä¿å­˜
â”‚         â”‚         â”‚         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
           â†“
    æ··å…ƒä¼˜åŒ–å¤§æ¨¡å‹
    æ•´åˆä¼˜åŒ–
           â†“
    HTTPå›è°ƒä¿å­˜
    ä¼˜åŒ–å†…å®¹
           â†“
         ç»“æŸ
```

### é‡è¦é…ç½®è¯´æ˜

#### 1. HTTPå›è°ƒåœ°å€

**å¼€å‘ç¯å¢ƒ**ï¼š
- å¦‚æœæœåŠ¡å™¨åœ¨æœ¬åœ°ï¼Œéœ€è¦ä½¿ç”¨**å†…ç½‘ç©¿é€å·¥å…·**ï¼ˆèŠ±ç”Ÿå£³ã€OpenFrpç­‰ï¼‰
- è·å–å…¬ç½‘URLåé…ç½®åˆ°å·¥ä½œæµ

**ç”Ÿäº§ç¯å¢ƒ**ï¼š
- ä½¿ç”¨æœåŠ¡å™¨çš„å…¬ç½‘IPæˆ–åŸŸå
- ç¤ºä¾‹ï¼š`http://your-domain.com:8080/system/daily-article/saveModelContent` 

#### 2. ç™½åå•é…ç½®

éœ€è¦åœ¨é¡¹ç›®çš„ Spring Security é…ç½®ä¸­**æ˜¾å¼å…è®¸ä¸Šè¿°å›è°ƒæ¥å£åŒ¿åè®¿é—®**ï¼Œå¦åˆ™è…¾è®¯å…ƒå™¨å·¥ä½œæµå°†æ— æ³•æˆåŠŸå›è°ƒã€‚å…·ä½“å®ç°æ–¹å¼å–å†³äºé¡¹ç›®å½“å‰çš„å®‰å…¨é…ç½®ç±»ï¼ˆä¾‹å¦‚åœ¨è‡ªå®šä¹‰çš„ Security é…ç½®ä¸­ä¸ºï¼š

- `/system/daily-article/saveModelContent` 
- `/system/daily-article/updateOptimizedContent` 

æ·»åŠ å¯¹åº”çš„ `permitAll` è§„åˆ™ï¼‰ã€‚

#### 3. è¶…æ—¶å¤„ç†

- å·¥ä½œæµæ‰§è¡Œè¶…æ—¶æ—¶é—´ï¼šå»ºè®®5åˆ†é’Ÿ
- åç«¯5åˆ†é’Ÿè¶…æ—¶æ£€æŸ¥ï¼šå¦‚æœæœªæ”¶åˆ°å›è°ƒï¼Œè‡ªåŠ¨æ ‡è®°ä¸ºå¤±è´¥

---

## ğŸ”‘ è·å–è…¾è®¯å…ƒå™¨é…ç½®ä¿¡æ¯

åœ¨ä½¿ç”¨æ—¥æ›´åŠ©æ‰‹ä¹‹å‰ï¼Œéœ€è¦ä»è…¾è®¯å…ƒå™¨å¹³å°è·å–å¿…è¦çš„é…ç½®ä¿¡æ¯ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†çš„è·å–æ­¥éª¤ï¼š

### 1. è·å– API å¯†é’¥ï¼ˆappKeyï¼‰

#### æ­¥éª¤ï¼š

1. **ç™»å½•è…¾è®¯å…ƒå™¨å¹³å°**  
   è®¿é—® [https://yuanqi.tencent.com](https://yuanqi.tencent.com) å¹¶ç™»å½•

2. **è¿›å…¥æ™ºèƒ½ä½“ç®¡ç†**  
   åœ¨å·¦ä¾§èœå•ä¸­æ‰¾åˆ°ä½ åˆ›å»ºçš„æ™ºèƒ½ä½“ï¼ˆæ—¥æ›´åŠ©æ‰‹ï¼‰

3. **è¿›å…¥åº”ç”¨å‘å¸ƒæœåŠ¡çŠ¶æ€é¡µé¢**  
   - ç‚¹å‡»æ™ºèƒ½ä½“å³ä¸Šè§’çš„"å‘å¸ƒ"æˆ–"åº”ç”¨çŠ¶æ€"æŒ‰é’®
   - è¿›å…¥åº”ç”¨å‘å¸ƒæœåŠ¡çŠ¶æ€ç®¡ç†é¡µé¢

4. **æ‰“å¼€ API ç®¡ç†**  
   - åœ¨åº”ç”¨å‘å¸ƒæœåŠ¡çŠ¶æ€é¡µé¢ä¸­ï¼Œæ‰¾åˆ°"API ç®¡ç†"é€‰é¡¹å¡
   - ç‚¹å‡»è¿›å…¥ API ç®¡ç†é¡µé¢

5. **åˆ›å»ºæˆ–æŸ¥çœ‹ API å¯†é’¥**  
   - å¦‚æœè¿˜æ²¡æœ‰å¯†é’¥ï¼Œç‚¹å‡»"åˆ›å»ºå¯†é’¥"æŒ‰é’®
   - ç³»ç»Ÿä¼šç”Ÿæˆä¸€ä¸ª `appKey`ï¼ˆAPI å¯†é’¥ï¼‰
   - **âš ï¸ é‡è¦**ï¼šå¯†é’¥åªæ˜¾ç¤ºä¸€æ¬¡ï¼Œè¯·ç«‹å³å¤åˆ¶ä¿å­˜
   - æ ¼å¼ç±»ä¼¼ï¼š`sk_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx`

![APIå¯†é’¥è·å–ç¤ºä¾‹](../images/workflows/api-key.png)

### 2. è·å–æ™ºèƒ½ä½“ IDï¼ˆappID / assistant_idï¼‰

#### æ–¹æ³•ä¸€ï¼šä»ä½“éªŒé“¾æ¥ä¸­æå–ï¼ˆæ¨èï¼‰

1. **è·å–ä½“éªŒé“¾æ¥**  
   - åœ¨æ™ºèƒ½ä½“ç®¡ç†é¡µé¢ï¼Œç‚¹å‡»"ä½“éªŒ"æˆ–"åˆ†äº«"æŒ‰é’®
   - å¤åˆ¶ç”Ÿæˆçš„ä½“éªŒé“¾æ¥

2. **æå– appID**  
   ä½“éªŒé“¾æ¥æ ¼å¼å¦‚ä¸‹ï¼š
   ```
   https://yuanqi.tencent.com/webim/#/chat/mJsohw?appid=1996840394248028544&experience=true&space_id=123
   ```
   
   ä» URL ä¸­æå– `appid=` åé¢çš„æ•°å­—ï¼Œå³ä¸ºæ™ºèƒ½ä½“ IDï¼š
   ```
   appID: 1996840394248028544
   ```

#### æ–¹æ³•äºŒï¼šä» API ç®¡ç†é¡µé¢è·å–

1. åœ¨ API ç®¡ç†é¡µé¢ï¼Œé€šå¸¸ä¼šæ˜¾ç¤ºå½“å‰æ™ºèƒ½ä½“çš„ `assistant_id`
2. ç›´æ¥å¤åˆ¶è¯¥ ID

### 3. é…ç½®åˆ°ç³»ç»Ÿä¸­

è·å–åˆ° `appKey` å’Œ `appID` åï¼Œåœ¨ç³»ç»Ÿä¸­è¿›è¡Œé…ç½®ï¼š

1. **ç™»å½•å¾®ä¿¡ç¦å¸®æ‰‹ç³»ç»Ÿ**  
   è®¿é—®ï¼šhttp://localhost:80ï¼ˆæˆ–ä½ çš„å®é™…åœ°å€ï¼‰

2. **è¿›å…¥æ—¥æ›´åŠ©æ‰‹é¡µé¢**  
   ç‚¹å‡»å·¦ä¾§èœå•"å·¥å…·" â†’ "æ—¥æ›´åŠ©æ‰‹"

3. **æ‰“å¼€é…ç½®çª—å£**  
   ç‚¹å‡»é¡µé¢å³ä¸Šè§’"é…ç½®æ™ºèƒ½ä½“"æˆ–"å…ƒå™¨é…ç½®"æŒ‰é’®

4. **å¡«å†™é…ç½®ä¿¡æ¯**
   ```yaml
   æ™ºèƒ½ä½“åç§°: æ—¥æ›´åŠ©æ‰‹ï¼ˆè‡ªå®šä¹‰åç§°ï¼‰
   æ™ºèƒ½ä½“ID: 1996840394248028544ï¼ˆä»ä½“éªŒé“¾æ¥æå–çš„ appIDï¼‰
   API å¯†é’¥: sk_xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxï¼ˆä» API ç®¡ç†è·å–çš„ appKeyï¼‰
   API ç«¯ç‚¹: https://yuanqi.tencent.com/openapi/v1/agent/chat/completionsï¼ˆé»˜è®¤ï¼‰
   ```

5. **ä¿å­˜é…ç½®**  
   ç‚¹å‡»"ä¿å­˜"æŒ‰é’®ï¼Œç³»ç»Ÿä¼šæç¤º"é…ç½®æˆåŠŸ"

### 4. éªŒè¯é…ç½®

é…ç½®å®Œæˆåï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼éªŒè¯ï¼š

1. åˆ›å»ºä¸€ç¯‡æµ‹è¯•æ–‡ç« 
2. è§‚å¯Ÿæ–‡ç« æ˜¯å¦æ­£å¸¸è¿›å…¥"å¤„ç†ä¸­"çŠ¶æ€
3. ç­‰å¾… 2-3 åˆ†é’Ÿï¼ŒæŸ¥çœ‹æ˜¯å¦ç”Ÿæˆå†…å®¹
4. å¦‚æœç”Ÿæˆå¤±è´¥ï¼Œæ£€æŸ¥ï¼š
   - appID æ˜¯å¦æ­£ç¡®ï¼ˆä»ä½“éªŒé“¾æ¥ä¸­ä»”ç»†æå–ï¼‰
   - API å¯†é’¥æ˜¯å¦æ­£ç¡®ï¼ˆæ³¨æ„ä¸è¦å¤šå¤åˆ¶ç©ºæ ¼ï¼‰
   - å·¥ä½œæµæ˜¯å¦å·²å‘å¸ƒ
   - å†…ç½‘ç©¿é€æ˜¯å¦æ­£å¸¸å·¥ä½œ

### å¸¸è§é—®é¢˜

**Q: å¦‚ä½•ç¡®è®¤ appID æ˜¯å¦æ­£ç¡®ï¼Ÿ**  
A: å¯ä»¥å°è¯•è®¿é—®ä½“éªŒé“¾æ¥ï¼Œå¦‚æœèƒ½æ­£å¸¸æ‰“å¼€æ™ºèƒ½ä½“å¯¹è¯ç•Œé¢ï¼Œè¯´æ˜ appID æœ‰æ•ˆã€‚

**Q: API å¯†é’¥å¿˜è®°äº†æ€ä¹ˆåŠï¼Ÿ**  
A: å¯†é’¥åªæ˜¾ç¤ºä¸€æ¬¡ï¼Œå¿˜è®°åéœ€è¦åœ¨ API ç®¡ç†é¡µé¢åˆ é™¤æ—§å¯†é’¥ï¼Œé‡æ–°åˆ›å»ºæ–°å¯†é’¥ã€‚

**Q: é…ç½®åæç¤º"unauthorized"é”™è¯¯ï¼Ÿ**  
A: æ£€æŸ¥ API å¯†é’¥æ˜¯å¦æ­£ç¡®ï¼Œæˆ–è€…å¯†é’¥æ˜¯å¦å·²è¢«åˆ é™¤/ç¦ç”¨ã€‚

---

## ğŸ“– ä½¿ç”¨è¯´æ˜

### 1. åˆ›å»ºæ–‡ç« 

1. ç™»å½•ç³»ç»Ÿï¼Œè¿›å…¥**å·¥å…·** â†’ **æ—¥æ›´åŠ©æ‰‹**
2. ç‚¹å‡»"æ–°å»ºæ–‡ç« "
3. è¾“å…¥æ–‡ç« æ ‡é¢˜ï¼ˆä¾‹å¦‚ï¼š"äººå·¥æ™ºèƒ½çš„å‘å±•è¶‹åŠ¿"ï¼‰
4. é€‰æ‹©å‚ä¸çš„å¤§æ¨¡å‹ï¼ˆå¯é€‰1-3ä¸ªï¼‰
5. ç‚¹å‡»"å¼€å§‹åˆ›ä½œ"
6. ç³»ç»Ÿæç¤º"æ–‡ç« åˆ›å»ºæˆåŠŸï¼ŒAIå†…å®¹æ­£åœ¨ç”Ÿæˆä¸­"

### 2. æŸ¥çœ‹ç”Ÿæˆè¿›åº¦

- æ–‡ç« åˆ—è¡¨ä¼šæ˜¾ç¤ºå¤„ç†çŠ¶æ€ï¼š
  - ğŸŸ¡ **å¤„ç†ä¸­**ï¼šAIæ­£åœ¨ç”Ÿæˆå†…å®¹
  - ğŸŸ¢ **å·²å®Œæˆ**ï¼šå†…å®¹å·²ç”Ÿæˆ
  - ğŸ”´ **å¤±è´¥**ï¼šç”Ÿæˆå¤±è´¥ï¼ŒæŸ¥çœ‹é”™è¯¯ä¿¡æ¯

- å‰ç«¯å¤§çº¦æ¯5ç§’è‡ªåŠ¨åˆ·æ–°æ–‡ç« åˆ—è¡¨ï¼Œå¹¶åœ¨æœ€å¤šçº¦5åˆ†é’Ÿå†…æŒç»­è½®è¯¢çŠ¶æ€

### 3. æŸ¥çœ‹æ–‡ç« å†…å®¹

ç‚¹å‡»"æŸ¥çœ‹è¯¦æƒ…"ï¼Œå¯ä»¥çœ‹åˆ°ï¼š
- **ä¼˜åŒ–å†…å®¹**ï¼šæ··å…ƒä¼˜åŒ–åçš„æœ€ç»ˆç‰ˆæœ¬
- **æ¨¡å‹1åˆç¨¿**ï¼šæ··å…ƒå¤§æ¨¡å‹ç”Ÿæˆçš„ç‰ˆæœ¬
- **æ¨¡å‹2åˆç¨¿**ï¼šDeepSeekç”Ÿæˆçš„ç‰ˆæœ¬
- **æ¨¡å‹3åˆç¨¿**ï¼šç²¾è°ƒæ¨¡å‹ç”Ÿæˆçš„ç‰ˆæœ¬

### 4. æ™ºèƒ½æ’ç‰ˆ

1. é€‰æ‹©è¦æ’ç‰ˆçš„å†…å®¹ï¼ˆä¼˜åŒ–å†…å®¹æˆ–æŸä¸ªæ¨¡å‹åˆç¨¿ï¼‰
2. ç‚¹å‡»"æ™ºèƒ½æ’ç‰ˆ"
3. ç­‰å¾…æ’ç‰ˆå®Œæˆï¼ˆçº¦10-30ç§’ï¼‰
4. é¢„è§ˆæ’ç‰ˆåçš„æ•ˆæœ

### 5. æŠ•é€’åˆ°å…¬ä¼—å·

1. ç‚¹å‡»"æŠ•é€’åˆ°å…¬ä¼—å·"
2. ç³»ç»Ÿè‡ªåŠ¨ï¼š
   - æå–æ–‡ç« æ ‡é¢˜
   - è½¬æ¢ä¸ºHTMLæ ¼å¼
   - æŠ•é€’åˆ°å¾®ä¿¡å…¬ä¼—å·è‰ç¨¿ç®±
3. ç™»å½•å…¬ä¼—å·åå°å³å¯çœ‹åˆ°è‰ç¨¿

### 6. å†å²ç®¡ç†

- æŸ¥çœ‹æ‰€æœ‰åˆ›å»ºçš„æ–‡ç« 
- åˆ é™¤ä¸éœ€è¦çš„æ–‡ç« 
- æŸ¥çœ‹å‘å¸ƒæ¬¡æ•°

---

## â“ å¸¸è§é—®é¢˜

### Q1: å·¥ä½œæµæ‰§è¡Œåï¼Œåç«¯æ²¡æœ‰æ”¶åˆ°å›è°ƒï¼Ÿ

**å¯èƒ½åŸå› **ï¼š
1. HTTPå›è°ƒåœ°å€é…ç½®é”™è¯¯
2. æœåŠ¡å™¨åœ¨å†…ç½‘ï¼Œè…¾è®¯å…ƒå™¨æ— æ³•è®¿é—®
3. ç™½åå•é…ç½®ç¼ºå¤±

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥å·¥ä½œæµHTTPèŠ‚ç‚¹çš„URLæ˜¯å¦æ­£ç¡®
2. ä½¿ç”¨å†…ç½‘ç©¿é€å·¥å…·è·å–å…¬ç½‘åœ°å€
3. ç¡®è®¤ `SecurityConfig.java` ä¸­å·²é…ç½®ç™½åå•

### Q2: æ–‡ç« çŠ¶æ€ä¸€ç›´æ˜¯"å¤„ç†ä¸­"ï¼Ÿ

**å¯èƒ½åŸå› **ï¼š
1. å·¥ä½œæµæ‰§è¡Œå¤±è´¥
2. HTTPå›è°ƒå¤±è´¥
3. è¶…è¿‡5åˆ†é’Ÿè¶…æ—¶

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç™»å½•è…¾è®¯å…ƒå™¨å¹³å°ï¼ŒæŸ¥çœ‹å·¥ä½œæµæ‰§è¡Œæ—¥å¿—
2. æ£€æŸ¥åç«¯æ—¥å¿—ï¼Œç¡®è®¤æ˜¯å¦æ”¶åˆ°å›è°ƒ
3. é‡æ–°åˆ›å»ºæ–‡ç« 

### Q3: æŸä¸ªæ¨¡å‹çš„å†…å®¹ä¸ºç©ºï¼Ÿ

**å¯èƒ½åŸå› **ï¼š
1. è¯¥æ¨¡å‹æœªè¢«é€‰ä¸­
2. å·¥ä½œæµé…ç½®é”™è¯¯
3. HTTPå›è°ƒå‚æ•°é”™è¯¯

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. æ£€æŸ¥åˆ›å»ºæ–‡ç« æ—¶æ˜¯å¦å‹¾é€‰äº†è¯¥æ¨¡å‹
2. æŸ¥çœ‹å·¥ä½œæµæ—¥å¿—ï¼Œç¡®è®¤è¯¥æ¨¡å‹èŠ‚ç‚¹æ˜¯å¦æ‰§è¡Œ
3. æ£€æŸ¥HTTPå›è°ƒçš„ `modelIndex` æ˜¯å¦æ­£ç¡®

### Q4: æŠ•é€’åˆ°å…¬ä¼—å·å¤±è´¥ï¼Ÿ

**å¯èƒ½åŸå› **ï¼š
1. æœªç»‘å®šå¾®ä¿¡å…¬ä¼—å·
2. UnionIdè·å–å¤±è´¥
3. å…¬ä¼—å·æƒé™ä¸è¶³

**è§£å†³æ–¹æ¡ˆ**ï¼š
1. ç¡®ä¿å·²ç™»å½•å¾®ä¿¡
2. æ£€æŸ¥ç”¨æˆ·ä¿¡æ¯è¡¨ä¸­æ˜¯å¦æœ‰ `union_id` 
3. ç¡®è®¤å…¬ä¼—å·å·²è®¤è¯ï¼Œä¸”æœ‰è‰ç¨¿ç®±æƒé™

### Q5: å¦‚ä½•ä¿®æ”¹å¤§æ¨¡å‹æç¤ºè¯ï¼Ÿ

åœ¨è…¾è®¯å…ƒå™¨å·¥ä½œæµä¸­ï¼š
1. æ‰¾åˆ°å¯¹åº”çš„å¤§æ¨¡å‹èŠ‚ç‚¹
2. ç¼–è¾‘æç¤ºè¯å†…å®¹
3. ä¿å­˜å¹¶é‡æ–°å‘å¸ƒå·¥ä½œæµ

### Q6: å¦‚ä½•å¢åŠ æˆ–å‡å°‘æ¨¡å‹æ•°é‡ï¼Ÿ

**åç«¯**ï¼š
- ä¿®æ”¹ `DailyArticleMapper.xml` ä¸­çš„å­—æ®µæ˜ å°„
- æ·»åŠ å¯¹åº”çš„ `model4_content`ã€`model4_name` ç­‰å­—æ®µ

**å·¥ä½œæµ**ï¼š
- æ·»åŠ æ–°çš„å¤§æ¨¡å‹èŠ‚ç‚¹
- æ·»åŠ å¯¹åº”çš„HTTPå›è°ƒèŠ‚ç‚¹
- ä¿®æ”¹ `modelIndex` å‚æ•°

**å‰ç«¯**ï¼š
- ä¿®æ”¹æ¨¡å‹é€‰æ‹©ç»„ä»¶
- æ·»åŠ æ–°çš„æ¨¡å‹é€‰é¡¹

### Q7: å¦‚ä½•è°ƒæ•´è¶…æ—¶æ—¶é—´ï¼Ÿ

**å·¥ä½œæµè¶…æ—¶**ï¼š
- åœ¨è…¾è®¯å…ƒå™¨å·¥ä½œæµè®¾ç½®ä¸­è°ƒæ•´

**åç«¯è¶…æ—¶æ£€æŸ¥**ï¼š
```java
// DailyArticleServiceImpl.java
private void scheduleCallbackTimeoutCheck(Long articleId, String articleTitle) {
    scheduler.schedule(() -> {
        // æ£€æŸ¥é€»è¾‘
    }, 5, TimeUnit.MINUTES); // ä¿®æ”¹è¿™é‡Œçš„æ—¶é—´
}
```

### Q8: å¦‚ä½•æŸ¥çœ‹è¯¦ç»†æ—¥å¿—ï¼Ÿ

**åç«¯æ—¥å¿—**ï¼š
```bash
tail -f logs/WxFbsir-admin.log
```

**å·¥ä½œæµæ—¥å¿—**ï¼š
- ç™»å½•è…¾è®¯å…ƒå™¨å¹³å°
- è¿›å…¥å·¥ä½œæµè¯¦æƒ…
- æŸ¥çœ‹æ‰§è¡Œå†å²å’Œæ—¥å¿—

---

## ğŸ“ æ€»ç»“

æ—¥æ›´åŠ©æ‰‹åŠŸèƒ½é€šè¿‡æ•´åˆè…¾è®¯å…ƒå™¨æ™ºèƒ½ä½“å¹³å°ï¼Œå®ç°äº†ï¼š

âœ… **é«˜æ•ˆçš„å†…å®¹ç”Ÿæˆ**ï¼šå¤šæ¨¡å‹ååŒï¼Œå¿«é€Ÿç”Ÿæˆé«˜è´¨é‡æ–‡ç«   
âœ… **çµæ´»çš„é…ç½®**ï¼šç”¨æˆ·å¯è‡ªä¸»é€‰æ‹©æ¨¡å‹å’Œé…ç½®  
âœ… **è‰¯å¥½çš„ç”¨æˆ·ä½“éªŒ**ï¼šå¼‚æ­¥å¤„ç†ï¼Œå®æ—¶åé¦ˆï¼Œæ™ºèƒ½æ’ç‰ˆ  
âœ… **å®Œæ•´çš„å·¥ä½œæµ**ï¼šä»åˆ›å»ºåˆ°å‘å¸ƒçš„ä¸€ç«™å¼è§£å†³æ–¹æ¡ˆ

### æŠ€æœ¯äº®ç‚¹

- å¼‚æ­¥ä»»åŠ¡å¤„ç†ï¼Œæå‡ç”¨æˆ·ä½“éªŒ
- HTTPå›è°ƒæœºåˆ¶ï¼Œå®ç°å·¥ä½œæµä¸åç«¯è§£è€¦
- çŠ¶æ€è½®è¯¢è®¾è®¡ï¼Œå®æ—¶å±•ç¤ºè¿›åº¦
- æ¨¡å‹é€‰æ‹©åŠŸèƒ½ï¼Œçµæ´»æ§åˆ¶æˆæœ¬
- è¶…æ—¶ä¿æŠ¤æœºåˆ¶ï¼Œé˜²æ­¢ä»»åŠ¡æŒ‚èµ·


---

**æœ€åæ›´æ–°**ï¼š2025-12-26  
**ç»´æŠ¤è€…**ï¼šç¦å¸®æ‰‹å¼€å‘å›¢é˜Ÿ
