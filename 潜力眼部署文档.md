# æ½œåŠ›çœ¼ å®Œæ•´éƒ¨ç½²æŒ‡å—

## é¡¹ç›®ç®€ä»‹
è¿™æ˜¯ä¸€ä¸ª**åµŒå…¥ç¦å¸®æ‰‹å†…éƒ¨çš„HRæ™ºèƒ½åŠ©æ‰‹åº”ç”¨**ã€‚

**æ ¸å¿ƒåŠŸèƒ½**ï¼š
- ğŸ” **ä¼ä¸šå¾®ä¿¡ OAuth ç™»å½•**ï¼šç”¨æˆ·é€šè¿‡ä¼ä¸šå¾®ä¿¡æˆæƒç™»å½•
- ğŸ¤– **å…ƒå™¨ AI å¯¹è¯**ï¼šé€šè¿‡Nginxåå‘ä»£ç†è½¬å‘è¯·æ±‚ï¼Œå®ç°ä¸å…ƒå™¨AIçš„å®æ—¶å¯¹è¯

- **æŠ€æœ¯æ¶æ„**ï¼š
- å‰ç«¯ï¼šVue 3 + Element Plus
- åç«¯ï¼šSpring Boot + MyBatis
- æ•°æ®åº“ï¼šMySQL 5.7+
- éƒ¨ç½²ï¼šNginx åå‘ä»£ç†
---

## ç›®å½•

1. [éƒ¨ç½²å‰å‡†å¤‡](#éƒ¨ç½²å‰å‡†å¤‡)
2. [ä¼ä¸šå¾®ä¿¡é…ç½®](#ä¼ä¸šå¾®ä¿¡é…ç½®)
3. [æœåŠ¡å™¨ç¯å¢ƒé…ç½®](#æœåŠ¡å™¨ç¯å¢ƒé…ç½®)
4. [Nginxé…ç½®ï¼ˆç¬¬ä¸€é˜¶æ®µï¼‰](#nginxé…ç½®ç¬¬ä¸€é˜¶æ®µ)
5. [å…ƒå™¨é…ç½®](#å…ƒå™¨é…ç½®)
6. [Nginxé…ç½®ï¼ˆç¬¬äºŒé˜¶æ®µï¼‰](#nginxé…ç½®ç¬¬äºŒé˜¶æ®µ)
7. [åç«¯é…ç½®ä¸éƒ¨ç½²](#åç«¯é…ç½®ä¸éƒ¨ç½²)
8. [å‰ç«¯æ„å»ºä¸éƒ¨ç½²](#å‰ç«¯æ„å»ºä¸éƒ¨ç½²)

---

## éƒ¨ç½²å‰å‡†å¤‡

### å¿…éœ€èµ„æº

| èµ„æº | è¦æ±‚ | è¯´æ˜ |
|------|------|------|
| **åŸŸå** | å¿…é¡»ä¸ä¼ä¸šå¾®ä¿¡ä¸»ä½“ä¸€è‡´ | éœ€å‘ä¼ä¸šå¾®ä¿¡ç®¡ç†å‘˜ç”³è¯·ï¼Œç”¨äºOAuthå›è°ƒ |
| **æœåŠ¡å™¨** | 1æ ¸2Gä»¥ä¸Š | éœ€è¦å…¬ç½‘IPï¼Œå»ºè®®ä½¿ç”¨å®å¡”é¢æ¿ |
| **SSLè¯ä¹¦** | å¿…é¡» | ä¼ä¸šå¾®ä¿¡è¦æ±‚HTTPSï¼Œå¯ä½¿ç”¨Let's Encryptå…è´¹è¯ä¹¦ |
| **ä¼ä¸šå¾®ä¿¡è´¦å·** | ç®¡ç†å‘˜æƒé™ | ç”¨äºåˆ›å»ºåº”ç”¨å’Œé…ç½® |
| **å…ƒå™¨è´¦å·** | å·²æ³¨å†Œ | ç”¨äºåˆ›å»ºæ™ºèƒ½ä½“ |

### ç¯å¢ƒè¦æ±‚

| ç¯å¢ƒ | ç‰ˆæœ¬ |
|------|------|
| JDK | 17+ |
| Maven | 3.6+ |
| Node.js | 18+ |
| MySQL | 5.7+ / 8.0+ |
| Nginx | ä»»æ„ç‰ˆæœ¬ |

---

## ä¼ä¸šå¾®ä¿¡é…ç½®

### æ­¥éª¤1ï¼šè·å–ä¼ä¸šID

1. ç™»å½• [ä¼ä¸šå¾®ä¿¡ç®¡ç†åå°](https://work.weixin.qq.com/wework_admin/frame#/)
2. ç‚¹å‡»å·¦ä¾§èœå• **æˆ‘çš„ä¼ä¸š**
3. åœ¨é¡µé¢åº•éƒ¨æ‰¾åˆ° **ä¼ä¸šID (corpId)**ï¼Œè®°å½•ä¸‹æ¥

### æ­¥éª¤2ï¼šåˆ›å»ºè‡ªå»ºåº”ç”¨

1. ç‚¹å‡»å·¦ä¾§èœå• **åº”ç”¨ç®¡ç†**
2. ç‚¹å‡» **è‡ªå»º** â†’ **åˆ›å»ºåº”ç”¨**
3. å¡«å†™åº”ç”¨ä¿¡æ¯ï¼š
    - åº”ç”¨åç§°ï¼šå¦‚ "AIå¯¹è¯åŠ©æ‰‹"
    - åº”ç”¨Logoï¼šä¸Šä¼ å›¾æ ‡
    - å¯è§èŒƒå›´ï¼šé€‰æ‹©éœ€è¦ä½¿ç”¨çš„éƒ¨é—¨æˆ–æˆå‘˜
4. åˆ›å»ºæˆåŠŸåï¼Œè®°å½•ä»¥ä¸‹ä¿¡æ¯ï¼š
    - **AgentId**ï¼ˆåº”ç”¨IDï¼‰
    - **Secret**ï¼ˆåº”ç”¨å¯†é’¥ï¼Œç‚¹å‡»"æŸ¥çœ‹"è·å–ï¼‰

---

## æœåŠ¡å™¨ç¯å¢ƒé…ç½®

### æ­¥éª¤1ï¼šåŸŸåè§£æ

1. ç™»å½•åŸŸåç®¡ç†åå°
2. æ·»åŠ Aè®°å½•ï¼š
    - ä¸»æœºè®°å½•ï¼š`abc` æˆ– `123`
    - è®°å½•ç±»å‹ï¼š`A`
    - è®°å½•å€¼ï¼šæœåŠ¡å™¨å…¬ç½‘IP
    - TTLï¼šé»˜è®¤

### æ­¥éª¤2ï¼šå®‰è£…å®å¡”é¢æ¿ï¼ˆæ¨èï¼‰

[å®å¡”](https://www.bt.cn/u/PXnXfi)å®˜ç½‘

### æ­¥éª¤3ï¼šå®‰è£…å¿…éœ€è½¯ä»¶

åœ¨å®å¡”é¢æ¿ä¸­å®‰è£…ï¼š
- Nginxï¼ˆä»»æ„ç‰ˆæœ¬ï¼‰
- MySQL 5.7 æˆ– 8.0
- Javaé¡¹ç›®ç®¡ç†å™¨ï¼ˆç”¨äºè¿è¡ŒSpring Bootï¼‰
---

## Nginxé…ç½®ï¼ˆç¬¬ä¸€é˜¶æ®µï¼‰

**ç›®çš„**ï¼šé…ç½®ä¼ä¸šå¾®ä¿¡ä»£ç†å’Œå…ƒå™¨å›è°ƒä»£ç†ï¼Œç”¨äºåˆ›å»ºå…ƒå™¨å‘å¸ƒæ¸ é“

### æ­¥éª¤1ï¼šåˆ›å»ºç½‘ç«™

1. å®å¡”é¢æ¿ â†’ **ç½‘ç«™** â†’ **æ·»åŠ ç«™ç‚¹**
2. å¡«å†™é…ç½®ï¼š
    - åŸŸåï¼šä½ çš„åŸŸåï¼ˆå¦‚ `demo.example.com`ï¼‰
    - æ ¹ç›®å½•ï¼š`/www/wwwroot/demo.example.com`
    - PHPç‰ˆæœ¬ï¼šçº¯é™æ€

### æ­¥éª¤2ï¼šé…ç½®SSLè¯ä¹¦

1. ç‚¹å‡»ç½‘ç«™ â†’ **SSL**
2. é€‰æ‹© **Let's Encrypt** å…è´¹è¯ä¹¦
3. å‹¾é€‰åŸŸå â†’ **ç”³è¯·**
4. å¼€å¯ **å¼ºåˆ¶HTTPS**

**âš ï¸ å¿…é¡»é…ç½®SSLè¯ä¹¦ï¼Œå¦åˆ™ä¼ä¸šå¾®ä¿¡æ— æ³•å›è°ƒï¼**

### æ­¥éª¤3ï¼šé…ç½®Nginxåå‘ä»£ç†

ç‚¹å‡»ç½‘ç«™ â†’ **é…ç½®æ–‡ä»¶**ï¼Œåœ¨ `server` å—ä¸­æ·»åŠ ä»¥ä¸‹é…ç½®ï¼š

```nginx
# å‰ç«¯è·¯ç”±æ”¯æŒï¼ˆVue Router historyæ¨¡å¼ï¼‰
location / {
    try_files $uri $uri/ /index.html;
}

# ä¼ä¸šå¾®ä¿¡APIä»£ç†
location ~ ^/cgi-bin/ {
    proxy_pass              https://qyapi.weixin.qq.com;
    proxy_http_version      1.1;
    proxy_set_header        Connection "close";
    proxy_buffering         off;
    proxy_read_timeout      600s;
    proxy_send_timeout      600s;
}

# å…ƒå™¨å›è°ƒä»£ç†ï¼ˆç”¨äºåˆ›å»ºå‘å¸ƒæ¸ é“ï¼‰
location ~ ^/api/v2/channel/callback/wecom/message/ {
    proxy_pass              https://yuanqi.tencent.com;
    proxy_http_version      1.1;
    proxy_set_header        Connection "close";
    proxy_buffering         off;
    proxy_read_timeout      600s;
    proxy_send_timeout      600s;
}
```

ä¿å­˜å¹¶é‡å¯Nginxã€‚

---

## å…ƒå™¨é…ç½®

### æ­¥éª¤1ï¼šåˆ›å»ºæ™ºèƒ½ä½“

1. ç™»å½• [è…¾è®¯å…ƒå™¨](https://yuanqi.tencent.com/)
2. ç‚¹å‡» **åˆ›å»ºæ™ºèƒ½ä½“** â†’ é€‰æ‹© **å¯¹è¯å¼æ™ºèƒ½ä½“**
3. å¡«å†™åŸºæœ¬ä¿¡æ¯å¹¶åˆ›å»º

### æ­¥éª¤2ï¼šå¯¼å…¥å·¥ä½œæµ

1. ç‚¹å‡»é¡¶éƒ¨ **å·¥ä½œæµç®¡ç†**
2. ç‚¹å‡» **å¯¼å…¥å·¥ä½œæµ**
3. ä¸Šä¼  `export-AI-HRæ™ºèƒ½åŠ©æ‰‹ã€å­èŠ‚ç‚¹ã€‘.zip;export-AI-HRæ™ºèƒ½åŠ©æ‰‹ç­‰.zip` æ–‡ä»¶
4. å¯¼å…¥æˆåŠŸåï¼Œç‚¹å‡» **ç¼–è¾‘**

### æ­¥éª¤3ï¼šä¿®æ”¹å·¥ä½œæµèŠ‚ç‚¹

æ‰¾åˆ° **"å‘å¯¹è¯ä¿¡æ¯å­˜å‚¨åˆ°æ•°æ®åº“"** HTTPè¯·æ±‚èŠ‚ç‚¹ï¼š

1. ä¿®æ”¹è¯·æ±‚åœ°å€ï¼š
   ```
   https://ä½ çš„åŸŸå/api/chat/workflow/callback
   ```
2. ä¿å­˜èŠ‚ç‚¹
3. ç‚¹å‡» **è°ƒè¯•** æµ‹è¯•å·¥ä½œæµ
4. æµ‹è¯•æˆåŠŸåï¼Œç‚¹å‡» **è¿”å›** å¹¶ **å¯ç”¨å·¥ä½œæµ**

### æ­¥éª¤4ï¼šåˆ›å»ºä¼ä¸šå¾®ä¿¡å‘å¸ƒæ¸ é“

1. è¿›å…¥ **åº”ç”¨å‘å¸ƒ** é¡µé¢
2. ç‚¹å‡» **å‘å¸ƒæ¸ é“** â†’ **åˆ›å»ºå‘å¸ƒæ¸ é“**
3. é€‰æ‹© **ä¼ä¸šå¾®ä¿¡åº”ç”¨**
4. å¡«å†™é…ç½®ï¼š
    - **ä¼ä¸šID (CorpId)**ï¼šä¹‹å‰è®°å½•çš„ä¼ä¸šID
    - **åº”ç”¨ID (AgentId)**ï¼šä¹‹å‰è®°å½•çš„åº”ç”¨AgentId
    - **åº”ç”¨å¯†é’¥ (Secret)**ï¼šä¹‹å‰è®°å½•çš„Secret
    - **æœåŠ¡å™¨åœ°å€ (URL)**ï¼šå°† `{æ‚¨çš„åŸŸå}` æ›¿æ¢ä¸ºä½ çš„åŸŸå
      ```
      https://ä½ çš„åŸŸå/api/v2/channel/callback/wecom/message/
      ```

5. ç‚¹å‡» **åˆ›å»º**

**âš ï¸ å¸¸è§é”™è¯¯**ï¼š
- **é”™è¯¯ç  4506007**ï¼šåŸŸåçš„Nginxé…ç½®æœ‰é—®é¢˜ï¼Œæˆ–SSLè¯ä¹¦æœªé…ç½®
- **éªŒè¯å¤±è´¥**ï¼šæ£€æŸ¥ä¼ä¸šIDã€åº”ç”¨IDã€Secretæ˜¯å¦æ­£ç¡®

### æ­¥éª¤6ï¼šè·å–å…ƒå™¨é…ç½®ä¿¡æ¯

åˆ›å»ºæˆåŠŸåï¼Œç‚¹å‡» **æŸ¥çœ‹è¯¦æƒ…**ï¼Œè®°å½•ä»¥ä¸‹ä¿¡æ¯ï¼š

- **æœåŠ¡å™¨åœ°å€ (URL)**ï¼šå¦‚ `https://ä½ çš„åŸŸå/api/v2/channel/callback/wecom/message/2002988235509072256`
- **Token**ï¼šæ¶ˆæ¯éªŒè¯Token
- **EncodingAESKey**ï¼šAESåŠ å¯†å¯†é’¥ï¼ˆ43ä½ï¼‰

**âš ï¸ é‡ç‚¹**ï¼šè®°å½•URLä¸­ `/message/` åé¢çš„æ•°å­—ï¼ˆå¦‚ `2002988235509072256`ï¼‰ï¼Œè¿™æ˜¯channelId

---

## Nginxé…ç½®ï¼ˆç¬¬äºŒé˜¶æ®µï¼‰

**ç›®çš„**ï¼šå°†å…ƒå™¨å›è°ƒä»£ç†æ”¹ä¸ºåç«¯APIä»£ç†

### æ­¥éª¤1ï¼šä¿®æ”¹Nginxé…ç½®

ç‚¹å‡»ç½‘ç«™ â†’ **é…ç½®æ–‡ä»¶**ï¼Œæ‰¾åˆ°ä¹‹å‰æ·»åŠ çš„å…ƒå™¨ä»£ç†é…ç½®ï¼Œ**åˆ é™¤**ï¼š

```nginx
# åˆ é™¤è¿™æ®µé…ç½®
location ~ ^/api/v2/channel/callback/wecom/message/ {
    proxy_pass              https://yuanqi.tencent.com;
    ...
}
```

**åˆ é™¤åå®Œæ•´çš„nginxé…ç½®ä¿¡æ¯**ï¼š 
æ³¨æ„ï¼š/www/wwwroot/WxFbsirè¿™ä¸ªä¸ºæ–‡ä»¶ä¸Šä¼ è·¯å¾„åœ°å€ï¼Œä½¿ç”¨nginxä»£ç†ï¼Œä½¿ä¸Šä¼ çš„æ–‡ä»¶å¯ä»¥è¢«å·¥ä½œæµè§£æã€‚
```nginx
location /files/ {
        # 1. åŸºæœ¬è·¯å¾„è®¾ç½®
        root /www/wwwroot/WxFbsir;
        autoindex on;
        autoindex_exact_size off;  # äººæ€§åŒ–æ˜¾ç¤ºæ–‡ä»¶å¤§å°
        autoindex_localtime on;    # ä½¿ç”¨æœåŠ¡å™¨æœ¬åœ°æ—¶é—´
        
        # 2. å­—ç¬¦ç¼–ç è®¾ç½®
        charset utf-8;
        
        # 3. ç¼“å­˜æ§åˆ¶
        location ~* \.pdf$ {
            expires 7d;
            add_header Cache-Control "public, immutable";
            add_header Content-Type "application/pdf";
        }
        
        # 4. å®‰å…¨è®¾ç½®
        location ~ /\. {
            deny all;  # ç¦æ­¢è®¿é—®éšè—æ–‡ä»¶
        }
        
        location ~* \.(php|asp|aspx|jsp|cgi|sh|pl|py)$ {
            deny all;  # ç¦æ­¢è„šæœ¬æ–‡ä»¶
            return 403;
        }
        
        # 5. è·¨åŸŸé…ç½®
        if ($request_method = 'OPTIONS') {
            add_header Access-Control-Allow-Origin "*";
            add_header Access-Control-Allow-Methods "GET, POST, OPTIONS, HEAD";
            add_header Access-Control-Allow-Headers "DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range";
            add_header Access-Control-Max-Age 1728000;
            add_header Content-Type "text/plain; charset=utf-8";
            add_header Content-Length 0;
            return 204;
        }
        
        add_header Access-Control-Allow-Origin "*";
        add_header Access-Control-Allow-Methods "GET, POST, OPTIONS, HEAD";
        add_header Access-Control-Allow-Headers "DNT,User-Agent,X-Requested-With,If-Modified-Since,Cache-Control,Content-Type,Range";
        add_header Access-Control-Expose-Headers "Content-Length,Content-Range";
        
        # 6. å®‰å…¨å¤´éƒ¨
        add_header X-Content-Type-Options "nosniff" always;
        add_header X-Frame-Options "SAMEORIGIN" always;
        add_header X-XSS-Protection "1; mode=block" always;
        add_header Referrer-Policy "strict-origin-when-cross-origin" always;
        
        # 7. æ–‡ä»¶ä¸Šä¼ é™åˆ¶
        client_max_body_size 50M;  # å…è®¸æœ€å¤§ä¸Šä¼ 50MBæ–‡ä»¶
        
        # 8. ä¸‹è½½é€Ÿç‡é™åˆ¶
        # limit_rate 500k;  # é™é€Ÿ500KB/s
        
        # 9. æ–‡ä»¶è®¿é—®ä¼˜åŒ–
        sendfile on;
        tcp_nopush on;
        tcp_nodelay on;
        
        # 10. é”™è¯¯å¤„ç†
        error_page 403 = /403.html;
        error_page 404 = /404.html;
        
        # 11. æ—¥å¿—è®°å½•
        access_log /www/wwwlogs/mcs.u3w.com_files_access.log;
        error_log /www/wwwlogs/mcs.u3w.com_files_error.log;
    }
    
    #REWRITE-END
    location / {
        try_files $uri $uri/ /index.html;
    }
    
    # ä¼ä¸šå¾®ä¿¡APIä»£ç†
    location ~ ^/cgi-bin/ {
        proxy_pass              https://qyapi.weixin.qq.com;
        proxy_http_version      1.1;
        proxy_set_header        Connection "close";
        proxy_buffering         off;
        proxy_read_timeout      600s;
        proxy_send_timeout      600s;
    }
    
    location /api/ {
        proxy_pass              http://127.0.0.1:8080;
        proxy_http_version      1.1;
        proxy_set_header        Host $host;
        proxy_set_header        X-Real-IP $remote_addr;
        proxy_set_header        X-Forwarded-For $proxy_add_x_forwarded_for;
        proxy_set_header        X-Forwarded-Proto $scheme;
        proxy_set_header        REMOTE-HOST $remote_addr;
    
        # é€šç”¨è¶…æ—¶é…ç½®
        proxy_connect_timeout   30s;
        proxy_read_timeout      86400s;
        proxy_send_timeout      30s;
    
        # ç¼“å†²é…ç½®
        proxy_buffering         off;
    }
```

**âš ï¸ æ³¨æ„**ï¼šç«¯å£ `8080` å¿…é¡»ä¸åç«¯é…ç½®çš„ç«¯å£ä¸€è‡´ï¼

### æ­¥éª¤2ï¼šé…ç½®ä¼ä¸šå¾®ä¿¡éªŒè¯æ–‡ä»¶

æ·»åŠ ä»¥ä¸‹é…ç½®ï¼ˆç”¨äºä¼ä¸šå¾®ä¿¡ç½‘é¡µæˆæƒéªŒè¯ï¼‰ï¼š

```nginx
location ~*\.txt$ {
    root /www/wwwroot/ä½ çš„åŸŸå/dist/;
}
```

ä¿å­˜å¹¶é‡å¯Nginxã€‚

---

## åç«¯é…ç½®ä¸éƒ¨ç½²

### æ­¥éª¤1ï¼šé…ç½®æ•°æ®åº“

1. å®å¡”é¢æ¿ â†’ **æ•°æ®åº“** â†’ **æ·»åŠ æ•°æ®åº“**
2. æ•°æ®åº“åï¼š`wxfbsir`
3. ç”¨æˆ·åï¼šè‡ªå®šä¹‰
4. å¯†ç ï¼šè‡ªå®šä¹‰
5. æ‰§è¡Œåˆå§‹åŒ–è„šæœ¬ï¼š

```
  æ‰§è¡Œæ•°æ®åº“æ–‡ä»¶ã€chat_file.sql;chat_message.sqlã€‘ï¼Œåœ¨åŸæœ‰çš„ç¦å¸®æ‰‹æ•°æ®åº“ä¸­
```

### æ­¥éª¤2ï¼šä¿®æ”¹é…ç½®æ–‡ä»¶

ç¼–è¾‘ `backend/src/main/resources/application.yml`ï¼š

```yaml

# æ•°æ®åº“é…ç½®
spring:
  datasource:
    url: jdbc:mysql://localhost:3306/demo?useUnicode=true&characterEncoding=utf8&serverTimezone=GMT%2B8
    username: ä½ çš„æ•°æ®åº“ç”¨æˆ·å
    password: ä½ çš„æ•°æ®åº“å¯†ç 

# ä¼ä¸šå¾®ä¿¡é…ç½®
wework:
  corp-id: ä½ çš„ä¼ä¸šID
  agent-id: ä½ çš„åº”ç”¨AgentId
  agent-secret: ä½ çš„åº”ç”¨Secret
# å…ƒå™¨AIé…ç½®
yuanqi:
  token: å…ƒå™¨æä¾›çš„Token
  encoding-aes-key: å…ƒå™¨æä¾›çš„EncodingAESKeyï¼ˆ43ä½ï¼‰
  target-url: https://yuanqi.tencent.com/api/v2/channel/callback/wecom/message/ä½ çš„channelId
  corp-id: ä½ çš„ä¼ä¸šID
  agent-id: ä½ çš„åº”ç”¨AgentId
# ä¸Šä¼ çš„æ–‡ä»¶åœ°å€é…ç½®
wxfbsir:
  profile: /www/wwwroot/WxFbsir
  domain: https://ä½ çš„åŸŸå
```

**âš ï¸ é‡è¦é…ç½®è¯´æ˜**ï¼š

1. **target-url**ï¼š
    - å‰é¢éƒ¨åˆ† `https://yuanqi.tencent.com/api/v2/channel/callback/wecom/message/` ä¸å¯æ›´æ”¹
    - åªéœ€å°† `/message/` åé¢çš„æ•°å­—æ›¿æ¢ä¸ºä½ çš„channelId
    - ç¤ºä¾‹ï¼š`https://yuanqi.tencent.com/api/v2/channel/callback/wecom/message/2002988235509072256`


### æ­¥éª¤3ï¼šæœ¬åœ°æ‰“åŒ…

åœ¨æœ¬åœ°å¼€å‘ç¯å¢ƒæ‰§è¡Œï¼š

```bash
mvn clean package -DskipTests
```

æ‰“åŒ…å®Œæˆåï¼Œåœ¨ `WxFbsir-admin/target/` ç›®å½•ä¸‹ç”Ÿæˆ `WxFbsir-admin.jar`

### æ­¥éª¤4ï¼šä¸Šä¼ åˆ°æœåŠ¡å™¨

1. å®å¡”é¢æ¿ â†’ **æ–‡ä»¶**
2. åˆ›å»ºç›®å½•ï¼š`/www/wwwroot/WxFbsir/`
3. ä¸Šä¼  `WxFbsir-admin.jar`

### æ­¥éª¤5ï¼šå¯åŠ¨åç«¯

1. å®å¡”é¢æ¿ â†’ **Javaé¡¹ç›®ç®¡ç†å™¨**
2. æ·»åŠ é¡¹ç›®ï¼š
    - é¡¹ç›®è·¯å¾„ï¼š`/www/wwwroot/WxFbsir/`
    - JARåŒ…ï¼š`WxFbsir-admin.jar`
    - å¯åŠ¨ç«¯å£ï¼š`8080`
3. ç‚¹å‡» **å¯åŠ¨**
---

## å‰ç«¯æ„å»ºä¸éƒ¨ç½²

### æ­¥éª¤1ï¼šæœ¬åœ°æ„å»º

åœ¨æœ¬åœ°å¼€å‘ç¯å¢ƒæ‰§è¡Œï¼š

```bash
cd WxFbsir-front
npm install
npm run build
```

æ„å»ºå®Œæˆåï¼Œ`dist` ç›®å½•ä¸‹ç”Ÿæˆé™æ€æ–‡ä»¶ã€‚

### æ­¥éª¤2ï¼šä¸Šä¼ åˆ°æœåŠ¡å™¨

1. å®å¡”é¢æ¿ â†’ **æ–‡ä»¶**
2. è¿›å…¥ç½‘ç«™ç›®å½•ï¼š`/www/wwwroot/ä½ çš„åŸŸå/`
3. å°† `dist` ç›®å½•ä¸‹çš„ **æ‰€æœ‰æ–‡ä»¶** ä¸Šä¼ åˆ°è¯¥ç›®å½•

---

## ä¼ä¸šå¾®ä¿¡åº”ç”¨é…ç½®

### æ­¥éª¤1ï¼šé…ç½®ç½‘é¡µæˆæƒåŠJS-SDK

1. è¿›å…¥ä¼ä¸šå¾®ä¿¡åº”ç”¨è¯¦æƒ…é¡µ
2. æ‰¾åˆ° **ç½‘é¡µæˆæƒåŠJS-SDK** åŒºåŸŸ
3. ç‚¹å‡» **è®¾ç½®å¯ä¿¡åŸŸå**
4. å¡«å…¥ä½ çš„åŸŸåï¼ˆä¸å¸¦åè®®å’Œç«¯å£ï¼‰ï¼Œå¦‚ï¼š`demo.example.com`
5. ä¸‹è½½éªŒè¯æ–‡ä»¶ï¼ˆå¦‚ `WW_verify_xxx.txt`ï¼‰
6. å°†éªŒè¯æ–‡ä»¶ä¸Šä¼ åˆ° `/www/wwwroot/ä½ çš„åŸŸå/dist/` ç›®å½•
7. ç‚¹å‡» **éªŒè¯**

### æ­¥éª¤2ï¼šé…ç½®OAuthå›è°ƒåŸŸ

1. åœ¨åº”ç”¨è¯¦æƒ…é¡µï¼Œæ‰¾åˆ° **ä¼ä¸šå¾®ä¿¡æˆæƒç™»å½•** åŒºåŸŸ
2. ç‚¹å‡» **è®¾ç½®æˆæƒå›è°ƒåŸŸ**
3. å¡«å…¥ä½ çš„åŸŸåï¼ˆä¸å¸¦åè®®å’Œç«¯å£ï¼‰

### æ­¥éª¤3ï¼šé…ç½®å¯ä¿¡IP

1. åœ¨åº”ç”¨è¯¦æƒ…é¡µï¼Œæ‰¾åˆ° **ä¼ä¸šå¯ä¿¡IP** åŒºåŸŸ
2. ç‚¹å‡» **é…ç½®**
3. å¡«å…¥æœåŠ¡å™¨å…¬ç½‘IP

### æ­¥éª¤4ï¼šé…ç½®åº”ç”¨é¦–é¡µ

1. åœ¨åº”ç”¨è¯¦æƒ…é¡µï¼Œæ‰¾åˆ° **åº”ç”¨ä¸»é¡µ** åŒºåŸŸ
2. å¡«å…¥ï¼š`https://ä½ çš„åŸŸå`
3. ä¿å­˜

---

## éªŒè¯éƒ¨ç½²

### 1. è®¿é—®åº”ç”¨

åœ¨ä¼ä¸šå¾®ä¿¡ä¸­æ‰“å¼€åº”ç”¨ï¼Œæˆ–ç›´æ¥è®¿é—® `https://ä½ çš„åŸŸå`

### 2. æµ‹è¯•ä¼ä¸šå¾®ä¿¡ç™»å½•

1. ç‚¹å‡» **é€šè¿‡ä¼ä¸šå¾®ä¿¡ç™»å½•**
2.è‡ªåŠ¨è·³è½¬åˆ°å¯¹è¯é¡µé¢
3.å‘é€æ¶ˆæ¯æµ‹è¯•

### 3. æ£€æŸ¥æ•°æ®åº“

```sql
SELECT * FROM chat_message ORDER BY create_time DESC LIMIT 10;
```

åº”è¯¥èƒ½çœ‹åˆ°ç”¨æˆ·æ¶ˆæ¯å’ŒAIå›å¤è®°å½•ã€‚

---


